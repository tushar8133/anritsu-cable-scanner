{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amnaonoip\\\\Desktop\\\\anritsu-cable-scanner\\\\src\\\\components\\\\Pim.js\";\nimport React from 'react';\nimport connectMachine from '../service';\n\nclass Pim extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    this.savePower();\n    this.saveDuration();\n  }\n\n  render() {\n    return React.createElement(\"main\", {\n      id: \"pim-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, \"Output Power Level (dBm): \", React.createElement(\"input\", {\n      type: \"number\",\n      id: \"outputPowerLevel\",\n      onInput: this.savePower,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }, \"Test Duration (sec): \", React.createElement(\"input\", {\n      type: \"number\",\n      id: \"testDuration\",\n      onInput: this.saveDuration,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: _ => {\n        this.pimvstimeHandler();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, \"PIM Vs Time\"), React.createElement(\"button\", {\n      onClick: _ => {\n        this.sweptpimHandler();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, \"Swept PIM\"), React.createElement(\"button\", {\n      onClick: _ => {\n        this.dtpHandler();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, \"DTP\"), React.createElement(\"span\", {\n      className: \"spacer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }), React.createElement(\"textarea\", {\n      id: \"textarea\",\n      rows: \"10\",\n      cols: \"60\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }));\n  }\n\n  pimvstimeHandler() {\n    connectMachine('SENSe:PIManalyzer:MODe PIM').then(data => {\n      return connectMachine(':PIManalyzer:OUTPut:POWer ' + localStorage.getItem('power'));\n    }).then(data => {\n      return connectMachine(':PIManalyzer:TEST:DURation ' + localStorage.getItem('duration'));\n    }).then(data => {\n      this.setResponse(data);\n    });\n  }\n\n  sweptpimHandler() {\n    connectMachine(':PIManalyzer:MODe PIMSwp').then(data => {\n      return connectMachine(':INSTrument:NSELect 46');\n    }).then(data => {\n      this.setResponse(data);\n    });\n  }\n\n  dtpHandler() {\n    connectMachine(':PIManalyzer:MODe DTP').then(data => {\n      this.setResponse(data);\n    });\n  }\n\n  setResponse(resp) {\n    document.getElementById('textarea').value = String(resp);\n  }\n\n  savePower(evt) {\n    if (evt) {\n      if (evt.target.value < 20) evt.target.value = 20;\n      if (evt.target.value > 46) evt.target.value = 46;\n      localStorage.setItem('power', evt.target.value);\n    } else {\n      var power = 43;\n\n      try {\n        var local = JSON.parse(localStorage.getItem('power'));\n        if (local) power = local;\n      } catch (e) {\n        console.log(e);\n      } finally {\n        document.getElementById('outputPowerLevel').value = power;\n        localStorage.setItem('power', power);\n      }\n    }\n  }\n\n  saveDuration(evt) {\n    if (evt) {\n      if (evt.target.value < 1) evt.target.value = 1;\n      if (evt.target.value > 600) evt.target.value = 600;\n      localStorage.setItem('duration', evt.target.value);\n    } else {\n      var duration = 30;\n\n      try {\n        var local = JSON.parse(localStorage.getItem('duration'));\n        if (local) duration = local;\n      } catch (e) {\n        console.log(e);\n      } finally {\n        document.getElementById('testDuration').value = duration;\n        localStorage.setItem('duration', duration);\n      }\n    }\n  }\n\n}\n\nexport default Pim;","map":{"version":3,"sources":["C:/Users/amnaonoip/Desktop/anritsu-cable-scanner/src/components/Pim.js"],"names":["React","connectMachine","Pim","Component","constructor","props","state","componentDidMount","savePower","saveDuration","render","_","pimvstimeHandler","sweptpimHandler","dtpHandler","then","data","localStorage","getItem","setResponse","resp","document","getElementById","value","String","evt","target","setItem","power","local","JSON","parse","e","console","log","duration"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport connectMachine from '../service';\r\n\r\nclass Pim extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.savePower();\r\n        this.saveDuration();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <main id='pim-page'>\r\n            \t<label>Output Power Level (dBm): <input type=\"number\" id=\"outputPowerLevel\" onInput={this.savePower} /></label>\r\n\t            <label>Test Duration (sec): <input type=\"number\" id=\"testDuration\" onInput={this.saveDuration} /></label>\r\n\t            <br />\r\n                <button onClick={ _ => {this.pimvstimeHandler()} }>PIM Vs Time</button>\r\n                <button onClick={ _ => {this.sweptpimHandler()} }>Swept PIM</button>\r\n                <button onClick={ _ => {this.dtpHandler()} }>DTP</button>\r\n                <span className=\"spacer\" />\r\n                <textarea id=\"textarea\" rows=\"10\" cols=\"60\"></textarea>\r\n            </main>\r\n        )\r\n    }\r\n\r\n    pimvstimeHandler(){\r\n    \tconnectMachine('SENSe:PIManalyzer:MODe PIM')\r\n    \t.then( data => {\r\n    \t\treturn connectMachine(':PIManalyzer:OUTPut:POWer '+localStorage.getItem('power'));\r\n    \t})\r\n    \t.then( data => {\r\n    \t\treturn connectMachine(':PIManalyzer:TEST:DURation '+localStorage.getItem('duration'));\r\n    \t})\r\n    \t.then( data => {\r\n    \t\tthis.setResponse(data);\r\n    \t});\r\n    }\r\n\r\n    sweptpimHandler(){\r\n    \tconnectMachine(':PIManalyzer:MODe PIMSwp')\r\n    \t.then( data => {\r\n    \t\treturn connectMachine(':INSTrument:NSELect 46');\r\n    \t})\r\n    \t.then( data => {\r\n    \t\tthis.setResponse(data);\r\n    \t});\r\n    }\r\n    dtpHandler(){\r\n    \tconnectMachine(':PIManalyzer:MODe DTP')\r\n    \t.then( data => {\r\n    \t\tthis.setResponse(data);\r\n    \t});\r\n    }\r\n\r\n    setResponse(resp) {\r\n        document.getElementById('textarea').value = String(resp);\r\n    }\r\n\r\n    savePower(evt) {\r\n\t\tif(evt) {\r\n\t\t\tif(evt.target.value < 20) evt.target.value = 20;\r\n\t\t\tif(evt.target.value > 46) evt.target.value = 46;\r\n\t\t\tlocalStorage.setItem('power', evt.target.value);\r\n\t\t} else {\r\n\t\t\tvar power = 43;\r\n\t    \ttry {\r\n\t        \tvar local = JSON.parse(localStorage.getItem('power'));\r\n\t    \t\tif(local) power = local;\r\n\t    \t} catch (e) {\r\n\t    \t\tconsole.log(e);\r\n\t    \t} finally {\r\n\t    \t\tdocument.getElementById('outputPowerLevel').value = power;\r\n\t    \t\tlocalStorage.setItem('power', power);\r\n\t    \t}\r\n\t\t}\r\n    }\r\n\r\n\tsaveDuration(evt) {\r\n\t\tif(evt) {\r\n\t        if(evt.target.value < 1) evt.target.value = 1;\r\n\t        if(evt.target.value > 600) evt.target.value = 600;\r\n\t        localStorage.setItem('duration', evt.target.value);\r\n\t\t} else {\r\n\t\t\tvar duration = 30;\r\n\t    \ttry {\r\n\t        \tvar local = JSON.parse(localStorage.getItem('duration'));\r\n\t    \t\tif(local) duration = local;\r\n\t    \t} catch (e) {\r\n\t    \t\tconsole.log(e);\r\n\t    \t} finally {\r\n\t    \t\tdocument.getElementById('testDuration').value = duration;\r\n\t    \t\tlocalStorage.setItem('duration', duration);\r\n\t    \t}\r\n\t\t}\r\n\t}\r\n    \r\n}\r\n\r\nexport default Pim;\r\n"]},"metadata":{},"sourceType":"module"}